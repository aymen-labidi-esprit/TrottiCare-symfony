{# templates/partenaire/dashboard/index.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}Tableau de Bord Partenaire - TrottiCare{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    {# Optional: Add FontAwesome if not globally included #}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        .dashboard-card { transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out; height: 100%; }
        .dashboard-card:hover { transform: translateY(-4px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.08), 0 4px 6px -4px rgba(0, 0, 0, 0.08); }
        .dashboard-card .card-body { display: flex; flex-direction: column; }
        .dashboard-card .mt-auto { margin-top: auto; } /* Push actions to bottom */
    </style>
{% endblock %}


{% block body %}
    <div class="container mx-auto px-4 py-8 md:py-12 page-content">

        {# ==== HEADER ==== #}
        <header class="mb-8">
            <h1 class="text-3xl font-bold text-gray-900 mb-1">Tableau de Bord Partenaire</h1>
            <p class="text-lg text-gray-600">Bienvenue, {{ partenaire.prenom|default('Partenaire') }} ! Gérez vos ressources.</p>
            {% include 'partials/_flash_messages.html.twig' %}
        </header>

        {# ==== STATS ==== #}
        <div class="row g-4 mb-6">
            <div class="col-md-4">
                <div class="card shadow-sm border-start border-primary border-4 h-100">
                    <div class="card-body d-flex align-items-center">
                        <i class="fas fa-motorcycle fa-3x text-primary me-4"></i>
                        <div>
                            <div class="text-muted text-xs text-uppercase mb-1">Mes Trottinettes</div>
                            <div class="h4 mb-0 font-bold text-gray-800">{{ trottinettes_count|default('0') }}</div>
                        </div>
                    </div>
                </div>
            </div>
            {# Add more relevant stats like 'Events Organized' or 'Active Maintenances' #}
            {# <div class="col-md-4">...</div> #}
        </div>


        {# ==== QUICK ACTIONS ==== #}
        <h2 class="text-2xl font-semibold text-gray-800 mb-4">Actions Rapides</h2>
        <div class="row g-4">

            {# Manage Scooters Card #}
            <div class="col-md-6 col-lg-4 d-flex">
                <a href="{{ path('partenaire_trottinette_index') }}" class="dashboard-card-link w-100"> {# Adjust route #}
                    <div class="card shadow-sm dashboard-card">
                        <div class="card-body text-center">
                            <i class="fas fa-motorcycle fa-3x text-primary mb-3"></i>
                            <h5 class="card-title">Gérer mes Trottinettes</h5>
                            <p class="card-text text-sm text-gray-600">Voir, ajouter ou modifier les trottinettes de votre flotte.</p>
                            <div class="mt-auto">
                                <span class="button button-secondary button-small">Gérer</span>
                            </div>
                        </div>
                    </div>
                </a>
            </div>

            {# Manage Events Card #}
            <div class="col-md-6 col-lg-4 d-flex">
                <a href="{{ path('partenaire_event_index') }}" class="dashboard-card-link w-100"> {# Adjust route #}
                    <div class="card shadow-sm dashboard-card">
                        <div class="card-body text-center">
                            <i class="fas fa-calendar-alt fa-3x text-info mb-3"></i>
                            <h5 class="card-title">Gérer mes Événements</h5>
                            <p class="card-text text-sm text-gray-600">Créer de nouveaux événements ou voir les participations.</p>
                            <div class="mt-auto">
                                <span class="button button-secondary button-small">Gérer</span>
                            </div>
                        </div>
                    </div>
                </a>
            </div>

            {# Maintenance Card #}
            <div class="col-md-6 col-lg-4 d-flex">
                <a href="{{ path('partenaire_maintenance_index') }}" class="dashboard-card-link w-100"> {# Adjust route #}
                    <div class="card shadow-sm dashboard-card">
                        <div class="card-body text-center">
                            <i class="fas fa-tools fa-3x text-warning mb-3"></i>
                            <h5 class="card-title">Suivi Maintenance</h5>
                            <p class="card-text text-sm text-gray-600">Consulter l'état des maintenances pour vos trottinettes.</p>
                            <div class="mt-auto">
                                <span class="button button-secondary button-small">Consulter</span>
                            </div>
                        </div>
                    </div>
                </a>
            </div>

            {# Link to Profile #}
            <div class="col-md-6 col-lg-4 d-flex">
                <a href="{{ path('app_client_profile_view') }}" class="dashboard-card-link w-100"> {# Partners likely share client profile view #}
                    <div class="card shadow-sm dashboard-card">
                        <div class="card-body text-center">
                            <i class="fas fa-user-edit fa-3x text-secondary mb-3"></i>
                            <h5 class="card-title">Mon Profil</h5>
                            <p class="card-text text-sm text-gray-600">Modifier vos informations personnelles.</p>
                            <div class="mt-auto">
                                <span class="button button-secondary button-small">Modifier</span>
                            </div>
                        </div>
                    </div>
                </a>
            </div>

        </div> {# End row #}
    </div>
{% endblock %}