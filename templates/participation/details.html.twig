{# templates/participation/details.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}Détails Participation - {{ event.titre }}{% endblock %}

{% block body %}
    <div class="min-h-screen bg-gray-100 p-4 md:p-8">
        <div class="container mx-auto max-w-2xl bg-white rounded-lg shadow-md p-6 md:p-8 border border-gray-200">

            <h1 class="text-2xl font-bold text-gray-800 mb-4 text-center border-b pb-3">
                Confirmation d'Inscription
            </h1>

            <div class="text-center mb-6">
                <p class="text-lg text-green-700 font-semibold">
                    <i class="bi bi-check-circle-fill me-2"></i>Inscription Confirmée!
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                {# Participant Details #}
                <div class="bg-gray-50 p-4 rounded-lg border">
                    <h2 class="text-lg font-semibold text-gray-700 mb-3 border-b pb-2"><i class="bi bi-person-fill me-2"></i>Participant</h2>
                    <dl class="text-sm space-y-1">
                        <div class="flex justify-between">
                            <dt class="text-gray-500">Nom:</dt>
                            <dd class="font-medium text-gray-800">{{ user.fullName }}</dd>
                        </div>
                        <div class="flex justify-between">
                            <dt class="text-gray-500">Email:</dt>
                            <dd class="font-medium text-gray-800">{{ user.email }}</dd>
                        </div>
                        <div class="flex justify-between">
                            <dt class="text-gray-500">N° Participation:</dt>
                            <dd class="font-medium text-gray-800">#{{ participation.id }}</dd>
                        </div>
                        <div class="flex justify-between">
                            <dt class="text-gray-500">Date d'inscription:</dt>
                            <dd class="font-medium text-gray-800">{{ participation.dateInscription|date('d/m/Y H:i') }}</dd>
                        </div>
                        <div class="flex justify-between">
                            <dt class="text-gray-500">Statut:</dt>
                            <dd>
                                {% if participation.statut == constant('App\\Enum\\ParticipationStatus::INSCRIT') %}
                                    <span class="px-2 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">Inscrit</span>
                                {% else %}
                                    <span class="px-2 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800">Annulé</span>
                                {% endif %}
                            </dd>
                        </div>
                    </dl>
                </div>

                {# Event Details #}
                <div class="bg-gray-50 p-4 rounded-lg border">
                    <h2 class="text-lg font-semibold text-gray-700 mb-3 border-b pb-2"><i class="bi bi-calendar-event me-2"></i>Événement</h2>
                    <dl class="text-sm space-y-1">
                        <div class="flex justify-between">
                            <dt class="text-gray-500">Titre:</dt>
                            <dd class="font-medium text-gray-800">{{ event.titre }}</dd>
                        </div>
                        <div class="flex justify-between">
                            <dt class="text-gray-500">Début:</dt>
                            <dd class="font-medium text-gray-800">{{ event.dateDebut|date('d/m/Y H:i') }}</dd>
                        </div>
                        <div class="flex justify-between">
                            <dt class="text-gray-500">Fin:</dt>
                            <dd class="font-medium text-gray-800">{{ event.dateFin|date('d/m/Y H:i') }}</dd>
                        </div>
                        <div class="flex justify-between">
                            <dt class="text-gray-500">Lieu:</dt>
                            <dd class="font-medium text-gray-800">{{ event.state ? event.state.label : '-' }}</dd>
                        </div>
                    </dl>
                </div>
            </div>

            <div class="text-center mt-6">
                <a href="{{ path('client_event_show', {'id': event.id}) }}" class="button button-outline-secondary">
                    <i class="bi bi-arrow-left me-1"></i> Retour à l'événement
                </a>
            </div>

        </div>
    </div>
{% endblock %}