{# templates/admin/event_form.html.twig #}
{% extends 'base.html.twig' %}

{# Use dynamic title passed from controller #}
{% block title %}{{ page_title|default('Gestion Événement') }} - Admin{% endblock %}

{% block body %}
    <div class="min-h-screen bg-gray-100 p-4 md:p-6">
        <div class="container mx-auto max-w-3xl"> {# Limit width for forms #}

            {# Page Header #}
            <h1 class="text-2xl md:text-3xl font-bold text-gray-800 mb-6">
                {{ page_title|default('Gérer l\'Événement') }}
            </h1>

            {# Flash Messages #}
            {% include 'partials/_flash_messages.html.twig' ignore missing %}

            {# Form #}
            <div class="bg-white p-6 rounded-lg shadow">
                {{ form_start(form) }}

                {# Display general form errors #}
                {{ form_errors(form) }}

                {# Render form fields - example using form_row for simplicity #}
                {# Adjust structure as needed for better layout control #}
                {{ form_row(form.titre) }}
                {{ form_row(form.description) }}
                {{ form_row(form.state) }} {# Gouvernorat #}
                {{ form_row(form.dateDebut) }}
                {{ form_row(form.dateFin) }}
                {{ form_row(form.trottinetteMinAutonomie) }}

                {# Conditionally render status field (only shown on edit) #}
                {% if form.statut is defined %}
                    {{ form_row(form.statut) }}
                {% endif %}

                {# Buttons #}
                <div class="mt-6 flex justify-between items-center">
                    <a href="{{ path('app_admin_events') }}" class="button button-secondary">
                        <i class="fas fa-arrow-left mr-2"></i> Annuler
                    </a>
                    <button type="submit" class="button button-success">
                        <i class="fas fa-save mr-2"></i> {{ button_label|default('Enregistrer') }}
                    </button>
                </div>

                {{ form_end(form) }}
            </div>

        </div> {# End container #}
    </div> {# End page wrapper #}
{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    {# Add basic form styling if not covered by base or Tailwind #}
    <style>
        /* Reuse button styles from index page if needed */
        .button { display: inline-block; padding: 0.5rem 1rem; border-radius: 0.375rem; font-weight: 500; text-align: center; cursor: pointer; transition: background-color 0.2s ease-in-out, border-color 0.2s ease-in-out, color 0.2s ease-in-out; border: 1px solid transparent; line-height: 1.25; font-size: 0.875rem; }
        .button-secondary { background-color: #e5e7eb; color: #374151; border-color: #d1d5db; } .button-secondary:hover { background-color: #d1d5db; border-color: #9ca3af;}
        .button-success { background-color: #10b981; color: white; border-color: #10b981; } .button-success:hover { background-color: #059669; border-color: #047857; }
        /* Basic form row styling */
        .form-control { display: block; width: 100%; padding: 0.5rem 0.75rem; font-size: 1rem; line-height: 1.5; color: #495057; background-color: #fff; background-clip: padding-box; border: 1px solid #ced4da; border-radius: 0.25rem; transition: border-color .15s ease-in-out,box-shadow .15s ease-in-out; }
        .form-select { display: block; width: 100%; padding: 0.5rem 2.25rem 0.5rem 0.75rem; font-size: 1rem; font-weight: 400; line-height: 1.5; color: #495057; background-color: #fff; background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e"); background-repeat: no-repeat; background-position: right 0.75rem center; background-size: 16px 12px; border: 1px solid #ced4da; border-radius: 0.25rem; appearance: none; }
        label { display: inline-block; margin-bottom: 0.5rem; font-weight: 500; }
        .mb-3 { margin-bottom: 1rem !important; }
        .mt-6 { margin-top: 1.5rem !important; }
        .mr-2 { margin-right: 0.5rem !important; }
        .flex { display: flex !important; }
        .justify-between { justify-content: space-between !important; }
        .items-center { align-items: center !important; }

        /* Add FontAwesome icons for buttons if not global */
        .fas { display: inline-block; font-style: normal; font-variant: normal; text-rendering: auto; -webkit-font-smoothing: antialiased; font-family: "Font Awesome 6 Free"; font-weight: 900; }
        .fa-arrow-left:before { content: "\f060"; }
        .fa-save:before { content: "\f0c7"; }
    </style>
{% endblock %}